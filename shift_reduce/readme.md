# Визуализация синтаксического анализа "Shift-reduce"
---
Синтаксчиский анализ shift/reduce представляет собой разновидность восходящего анализа, в котором для хранения символов грамматики используется стек, а для хранения остающейся непроанализированной части входной строки - входной буффер.
Визуализируем процесс такого синтаксического анализа.

Наша программа состоит из трех частей:
- Лексический анализ. Реализация анализа происходит через инструмент Flex. Устанавливается в Linux через терминал.
```C
sudo apt install flex
```
- Синтаксический анализ. Непосредственно Shift/Reduce.
- Выравнивание и вывод таблицы состояний в консоль.

## LR0-грамматика
```C
E -> E + T | E + E | T
T -> T * F | F
F -> xyz | value | (E)
```
## Сборка и запуск
Собираем с помощью make-файла. В терминале пишем:
```C
>>> make            // сборка
>>> make clean      // безжалостное уничтожение
>>> make test       // тестирование
```
Для запуска программы в терминале пишем
```C
>>> ./prog
```
Далее будет предложено написать выражение в консоль.

## Формат ввода и вывода

Ввод:
- знаки "*", "\", "+", "-"
- скобки "(", ")"
- переменные "x", "y", "z"
- любые неотрицательные вещественные числа.

Пример:
```C
4+y-5/3-(3+5)*(1/2)
```
Вывод: таблица "стек-буффер-действие"

Таблица для примера:
```C
| Stack  |       Input        |     Action      |
|        |4+id-5/3-(3+5)*(1/2)|      Shift      |
|   4    |+id-5/3-(3+5)*(1/2) | Reduce F -> id  |
|   F    |+id-5/3-(3+5)*(1/2) |  Reduce T -> F  |
|   T    |+id-5/3-(3+5)*(1/2) |  Reduce E -> T  |
|   E    |+id-5/3-(3+5)*(1/2) |      Shift      |
|   E+   | id-5/3-(3+5)*(1/2) |      Shift      |
|  E+id  |  -5/3-(3+5)*(1/2)  | Reduce F -> id  |
|  E+F   |  -5/3-(3+5)*(1/2)  |  Reduce T -> F  |
|  E+T   |  -5/3-(3+5)*(1/2)  |  Reduce E -> T  |
|  E+E   |  -5/3-(3+5)*(1/2)  |Reduce E -> E + E|
|   E    |  -5/3-(3+5)*(1/2)  |      Shift      |
|   E-   |  5/3-(3+5)*(1/2)   |      Shift      |
|  E-5   |   /3-(3+5)*(1/2)   | Reduce F -> id  |
|  E-F   |   /3-(3+5)*(1/2)   |  Reduce T -> F  |
|  E-T   |   /3-(3+5)*(1/2)   |      Shift      |
|  E-T/  |   3-(3+5)*(1/2)    |      Shift      |
| E-T/3  |    -(3+5)*(1/2)    | Reduce F -> id  |
| E-T/F  |    -(3+5)*(1/2)    |Reduce T -> T / F|
|  E-T   |    -(3+5)*(1/2)    |  Reduce E -> T  |
|  E-E   |    -(3+5)*(1/2)    |Reduce E -> E - E|
|   E    |    -(3+5)*(1/2)    |      Shift      |
|   E-   |    (3+5)*(1/2)     |      Shift      |
|  E-(   |     3+5)*(1/2)     |      Shift      |
|  E-(3  |     +5)*(1/2)      | Reduce F -> id  |
|  E-(F  |     +5)*(1/2)      |  Reduce T -> F  |
|  E-(T  |     +5)*(1/2)      |  Reduce E -> T  |
|  E-(E  |     +5)*(1/2)      |      Shift      |
| E-(E+  |      5)*(1/2)      |      Shift      |
| E-(E+5 |      )*(1/2)       | Reduce F -> id  |
| E-(E+F |      )*(1/2)       |  Reduce T -> F  |
| E-(E+T |      )*(1/2)       |  Reduce E -> T  |
| E-(E+E |      )*(1/2)       |Reduce E -> E + E|
|  E-(E  |      )*(1/2)       |      Shift      |
| E-(E)  |       *(1/2)       | Reduce F -> (E) |
|  E-F   |       *(1/2)       |  Reduce T -> F  |
|  E-T   |       *(1/2)       |      Shift      |
|  E-T*  |       (1/2)        |      Shift      |
| E-T*(  |        1/2)        |      Shift      |
| E-T*(1 |        /2)         | Reduce F -> id  |
| E-T*(F |        /2)         |  Reduce T -> F  |
| E-T*(T |        /2)         |      Shift      |
|E-T*(T/ |         2)         |      Shift      |
|E-T*(T/2|         )          | Reduce F -> id  |
|E-T*(T/F|         )          |Reduce T -> T / F|
| E-T*(T |         )          |  Reduce E -> T  |
| E-T*(E |         )          |      Shift      |
|E-T*(E) |                    | Reduce F -> (E) |
| E-T*F  |                    |Reduce T -> T * F|
|  E-T   |                    |  Reduce E -> T  |
|  E-E   |                    |Reduce E -> E - E|
|   E    |                    |     Accept      |
```
